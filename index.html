
<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energif√¶llesskab</title>
    <style>
        body {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            background-color: #1e1e1e;
            color: #f9f9f9;
            margin: 0;
            padding: 2rem;
        }
        .status {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        .message {
            font-size: 1.5rem;
            line-height: 1.6;
            font-style: italic;
        }
        .low {
            color: #00cc66;
        }
        .medium {
            color: #ffcc00;
        }
        .high {
            color: #ff3333;
        }
        .status-icon {
            font-size: 2.5rem;
            margin-right: 0.5rem;
            vertical-align: middle;
        }
        #community-screen {
            display: none;
        }
    </style>
</head>
<body>
    <div id="status-screen">
        <div id="statusMessage" class="status"><span class="status-icon">‚ö°</span>Status opdateres...</div>
        <div id="statusData" class="message">Henter data...</div>
    </div>
    <div id="community-screen" class="message"></div>

    <script>
        let showingCommunity = false;

        document.body.addEventListener("click", () => {
            showingCommunity = !showingCommunity;
            document.getElementById("community-screen").style.display = showingCommunity ? "block" : "none";
            document.getElementById("status-screen").style.display = showingCommunity ? "none" : "block";
        });

        fetch("status.json")
            .then(response => response.json())
            .then(data => {
                const status = data.status;
                const iconMap = {
                    "LOW": "üü¢",
                    "MEDIUM": "üü°",
                    "HIGH": "üî¥"
                };
                const messages = {
                    "LOW": "Energif√¶llesskabet s√∏rger i dag for, at hallen kan lyse og varme hele aftenen ‚Äì med gr√∏n str√∏m fra solen. Tak for at v√¶re med!",
                    "MEDIUM": "Der er str√∏m nok i f√¶llesskabet til h√•ndboldtr√¶ning og aktiviteter i hallen ‚Äì takket v√¶re lokal solenergi.",
                    "HIGH": "Produktionen er lav i dag ‚Äì men energif√¶llesskabet er stadig med til at holde caf√©en og petanque i gang p√• gr√∏n str√∏m."
                };

                const statusText = {
                    "LOW": "Brug l√∏s af str√∏mmen",
                    "MEDIUM": "Brug med omtanke",
                    "HIGH": "Vent med forbrug"
                };

                document.getElementById("statusMessage").innerHTML = `<span class="status-icon">${iconMap[status]}</span>${statusText[status]}`;
                document.getElementById("statusMessage").className = "status " + status.toLowerCase();
                document.getElementById("statusData").textContent = data.details;

                document.getElementById("community-screen").textContent = messages[status];
            })
            .catch(error => {
                document.getElementById("statusMessage").textContent = "Fejl i data!";
                document.getElementById("statusData").textContent = error.toString();
            });
    </script>
</body>
</html>
